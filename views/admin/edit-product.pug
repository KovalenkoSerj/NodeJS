extends ../layout/main-layout.pug

block styles
	link(rel="stylesheet", href="/css/forms.css")
	link(rel="stylesheet", href="/css/product.css")


block content

	main
		if errorMsg
			p(class='user-message user-message--error') #{errorMsg}
		if editing === 'true' || hasError === 'true'
			form(action='/admin/edit-product', method="POST", class='product-form', enctype="multipart/form-data")
				.form-control
					label(for="title") #{labelTitle}
					input(type="text", name='title', id='title' value=product.title)

					label(for="image") Image
					input(type="file", name='image', id='image' , value=product.imageUrl) 

					label(for="price") Price
					input(type="number", name='price', id='price' step="0.01", value=product.price)

					label(for="desctiption") Description
					textarea(name='description', id='description', rows="5" ,) #{ product.description}
					input(type="hidden", name='_csrf' value=`${csrfToken}`)

					input(type="hidden", value=product._id, name='productId')
					button.btn(type='submit') #{btnTitle}
		else
			form(action='/admin/add-product', method="POST", class='product-form', enctype="multipart/form-data")
				.form-control
					label(for="title") #{labelTitle}
					input(type="text", name='title', id='title' )

					label(for="image") Image 
					input(type="file", name='image', id='image')

					label(for="price") Price
					input(type="number", name='price', id='price' step="0.01" )
					label(for="desctiption") Description
					textarea(name='description', id='description', rows="5" )
					input(type="hidden", name='_csrf' value=`${csrfToken}`)
					button.btn(type='submit') #{btnTitle}








